# Open Energy Controller - Environment Variables
# Copy this file to .env and fill in your values

# Database connection string
DATABASE_URL=postgres://oec:oec@localhost:5432/oec_dev

# Authentication token (generate a secure token for production)
OEC_AUTH_TOKEN=your_secure_token_here

# Rust logging level
RUST_LOG=info,open_energy_controller=debug

# Nord Pool / Elprisetjustnu API
NORDPOOL_API_KEY=your_api_key_here
ELPRISETJUSTNU_BASE_URL=https://www.elprisetjustnu.se

# SMHI Weather API (for solar forecasting)
SMHI_API_URL=https://opendata-download-metfcst.smhi.se

# Optional: Modbus TCP configuration for real hardware
MODBUS_BATTERY_IP=192.168.1.100
MODBUS_BATTERY_PORT=502
MODBUS_BATTERY_UNIT_ID=1

MODBUS_INVERTER_IP=192.168.1.101
MODBUS_INVERTER_PORT=502
MODBUS_INVERTER_UNIT_ID=1

# Optional: OCPP WebSocket URL for EV charger
OCPP_CHARGER_URL=ws://192.168.1.102:8080/ocpp
OCPP_CHARGER_ID=EVSE001

# Optional: Enable/disable features
OEC_ENABLE_MODBUS=false
OEC_ENABLE_OCPP=false
OEC_ENABLE_METRICS=true
OEC_ENABLE_SWAGGER=true

# Optional: Server configuration
OEC_SERVER_HOST=127.0.0.1
OEC_SERVER_PORT=8080

# Optional: Controller configuration
OEC_CONTROLLER_TICK_SECONDS=60
OEC_REOPTIMIZE_EVERY_MINUTES=60

# Optional: Battery configuration
OEC_BATTERY_CAPACITY_KWH=10.0
OEC_BATTERY_MAX_CHARGE_KW=5.0
OEC_BATTERY_MAX_DISCHARGE_KW=5.0
OEC_BATTERY_MIN_SOC_PERCENT=20.0
OEC_BATTERY_MAX_SOC_PERCENT=95.0

# Optional: Grid configuration
OEC_GRID_FUSE_AMPS=25
OEC_GRID_MAX_IMPORT_KW=17.25
OEC_GRID_MAX_EXPORT_KW=17.25
OEC_PRICE_AREA=SE3

# Optional: Machine Learning
OEC_ML_ENABLED=false
OEC_ML_MODEL_PATH=./models/

# Optional: Optimization
OEC_OPTIMIZER_STRATEGY=dynamic_programming
OEC_OPTIMIZER_HORIZON_HOURS=24
